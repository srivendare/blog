<!DOCTYPE html><html lang="en" prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Immutable.js 笔记 · XWARTZ</title><meta name="description" content="Immutable.js 笔记 - xwartz"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/blog/favicon.ico"><link rel="stylesheet" href="//at.alicdn.com/t/font_1472710214_6648843.css"><link rel="stylesheet" href="//raw.githack.com/xwartz/hexo-theme-nuna/next/source/style/main.css?v=1.0.3"></head><body class="pupa"><div class="loading-bar"></div><main><div class="post post"><article itemscope itemtype="http://schema.org/Article" class="hentry"><div itemprop="image" style="background-image: url(http://ww4.sinaimg.cn/large/006tNbRwgw1fb5sv7ljvsj30h80ac0ua.jpg)" class="entry-cover"></div><div class="container"><div class="entry-header"><h1 class="entry-title">Immutable.js 笔记</h1><div class="entry-description"><p>Immutable.js 使用笔记。</p></div><div class="entry-meta"><time itemprop="datePublished" datetime="Tuesday, December 27th 2016, 11:46:37 pm" class="updated">Dec 27, 2016</time><em class="post-count">3,909 words</em></div></div><div itemprop="articleBody" class="entry-content"><p>所有涉及到的方法都可以在<a href="https://facebook.github.io/immutable-js/docs">官方文档</a>查到，只是官方文档晦涩难懂。</p>
<p>查看转化后的 JavaScript 原型，打开 console 使用 <code>Immutable.toJS()</code> 或者查看 <code>_tail</code> 字段。</p>
<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><p>Immutable List 类似 JavaScript array。</p>
<h3 id="创建-List"><a href="#创建-List" class="headerlink" title="创建 List"></a>创建 List</h3><p><code>List()</code> 与 <code>List.of()</code> 的不同：</p>
<ul>
<li><code>List.of()</code> - 作用于 non-iterable 数据(如函数参数、JavaScript 对象、字符串)</li>
<li><code>List()</code> - 作用于 iterable 数据(数组、Immutable 对象(List, Map, Set…)、字符串中单个字符)</li>
</ul>
<p><strong>注意：JavaScript 中 string 是 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#Builtin_iterables">iterable object</a>。</strong></p>
<h4 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> args = Immutable.List.of(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>)</div><div class="line"></div><div class="line"><span class="comment">// Output: </span></div><div class="line"><span class="built_in">Array</span> [</div><div class="line">  <span class="string">'a'</span>,</div><div class="line">  <span class="string">'b'</span>,</div><div class="line">  <span class="string">'c'</span></div><div class="line">]</div></pre></td></tr></table></figure>
<h4 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h4><p><code>List.of()</code> 会把对象转为 List 的一个元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;</div><div class="line"><span class="keyword">const</span> list = Immutable.List.of(obj)</div><div class="line"></div><div class="line"><span class="comment">// Output: </span></div><div class="line"><span class="built_in">Array</span> [</div><div class="line">  <span class="built_in">Object</span> &#123;</div><div class="line">    <span class="attr">a</span>: <span class="number">1</span>,</div><div class="line">    <span class="attr">b</span>: <span class="number">2</span></div><div class="line">  &#125;</div><div class="line">]</div></pre></td></tr></table></figure>
<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> str = <span class="string">'abc'</span></div><div class="line"><span class="keyword">const</span> list = Immutable.List.of(str)</div><div class="line"></div><div class="line"><span class="comment">// Output: </span></div><div class="line"><span class="built_in">Array</span> [</div><div class="line">  <span class="string">'a,b,c'</span></div><div class="line">]</div></pre></td></tr></table></figure>
<p>因为 JavaScript 中 string 是 iterable 的，所以想把整个 string 当做一个整体的就使用 <code>List.of()</code>，<code>List()</code> 转化如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> str = <span class="string">'abc'</span></div><div class="line"><span class="keyword">const</span> list = Immutable.List(str)</div><div class="line"></div><div class="line"><span class="comment">// Output: </span></div><div class="line"><span class="built_in">Array</span> [</div><div class="line">  <span class="string">'a'</span>,</div><div class="line">  <span class="string">'b'</span>,</div><div class="line">  <span class="string">'c'</span></div><div class="line">]</div></pre></td></tr></table></figure>
<h3 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a>Iterator</h3><p>ES6 现有的 iterators 类型:</p>
<ul>
<li><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></li>
<li><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></li>
<li><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypedArray">TypedArray</a></li>
<li><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a></li>
<li><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a></li>
</ul>
<p>当然也可以自行构建 <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Iteration_protocols">iterable</a>。</p>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> num = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</div><div class="line"><span class="keyword">const</span> list = Immutable.List(num)</div><div class="line"></div><div class="line"><span class="comment">// Output: </span></div><div class="line"><span class="built_in">Array</span> [</div><div class="line">  <span class="number">1</span>,</div><div class="line">  <span class="number">2</span>,</div><div class="line">  <span class="number">3</span></div><div class="line">]</div></pre></td></tr></table></figure>
<h4 id="嵌套数组"><a href="#嵌套数组" class="headerlink" title="嵌套数组"></a>嵌套数组</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> num = [<span class="number">1</span>,[<span class="number">2</span>,<span class="number">3</span>]]</div><div class="line"><span class="keyword">const</span> list = Immutable.List(num)</div><div class="line"></div><div class="line">Immutable.List.isList(list.getIn([<span class="number">1</span>])) <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p><code>Immutable.List</code> 只转化一层，而 <code>Immutable.fromJS</code> 支持嵌套转化，将每一层数据都转为 Immutable。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> num = [<span class="number">1</span>,[<span class="number">2</span>,<span class="number">3</span>]]</div><div class="line"><span class="keyword">const</span> list = Immutable.fromJS(num)</div><div class="line"></div><div class="line">Immutable.List.isList(list.getIn([<span class="number">1</span>])) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h3 id="Immutable-js-类型"><a href="#Immutable-js-类型" class="headerlink" title="Immutable.js 类型"></a>Immutable.js 类型</h3><p>Immutable 中 iterable 的类型有：<code>List</code>, <code>Map</code>, <code>OrderedMap</code>, <code>Set</code>, <code>OrderedSet</code>, <code>Stack</code>, <code>Record</code>。</p>
<h4 id="List-1"><a href="#List-1" class="headerlink" title="List"></a>List</h4><p><code>List()</code> 一个 <code>List</code> 对象和原来相等。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> list = Immutable.List([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line"><span class="keyword">const</span> newList = Immutable.List(list)</div><div class="line"></div><div class="line">list.equals(newList) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p><code>List()</code> 会将 <code>Map</code> key/value 转为一个数组元组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map = Immutable.Map(&#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;)</div><div class="line"><span class="keyword">const</span> list = Immutable.List(map)</div><div class="line"></div><div class="line"><span class="comment">// Output: </span></div><div class="line"><span class="built_in">Array</span> [</div><div class="line">  [<span class="string">'a'</span>, <span class="number">1</span>,],</div><div class="line">  [<span class="string">'b'</span>, <span class="number">2</span>]</div><div class="line">]</div></pre></td></tr></table></figure>
<h3 id="get-set"><a href="#get-set" class="headerlink" title="get() / set()"></a>get() / set()</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> list = Immutable.List([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line">list.get(<span class="number">0</span>) <span class="comment">// 1</span></div><div class="line">list.get(<span class="number">-3</span>) <span class="comment">// 1 反向</span></div></pre></td></tr></table></figure>
<p><code>getIn</code> 访问嵌套数组的数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> list = Immutable.fromJS([<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>]])</div><div class="line">list.getIn([<span class="number">1</span>, <span class="number">0</span>]) <span class="comment">// 2</span></div></pre></td></tr></table></figure>
<p><code>set</code> 与 <code>setIn</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> list = Immutable.List([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line">list.set(<span class="number">0</span>, <span class="string">'a'</span>) <span class="comment">// ['a', 2, 3]</span></div><div class="line">list.set(<span class="number">4</span>, <span class="string">'a'</span>) <span class="comment">// [1, 2, 3, undefined, 'a']</span></div><div class="line">list.set(<span class="number">-3</span>, <span class="string">'b'</span>) <span class="comment">// ['b', 2, 3]</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> list = Immutable.fromJS([<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>]])</div><div class="line">list.setIn([<span class="number">1</span>, <span class="number">0</span>], <span class="string">'a'</span>) <span class="comment">// [1, ['a', 3]]</span></div></pre></td></tr></table></figure>
<h3 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h3><p><code>merge()</code> 是根据索引值的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> list1 = Immutable.List([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line"><span class="keyword">const</span> list2 = Immutable.List([<span class="string">'a'</span>, <span class="string">'b'</span>])</div><div class="line"></div><div class="line">list1.merge(list2) <span class="comment">// ['a', 'b', 3]</span></div></pre></td></tr></table></figure>
<p><code>mergeWith()</code> 提供解决冲突的方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> list1 = Immutable.List([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line"><span class="keyword">const</span> list1 = Immutable.fromJS([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</div><div class="line">list.mergeWith(<span class="function">(<span class="params">prev, next, index</span>) =&gt;</span> prev === <span class="number">1</span> ? prev : next, list1) <span class="comment">// [1, 'b', 'c']</span></div></pre></td></tr></table></figure>
<p><code>mergeDeep()</code> 作用嵌套数组每层</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> list = Immutable.fromJS([<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>])</div><div class="line"><span class="keyword">const</span> list1 = Immutable.fromJS([<span class="string">'a'</span>, [<span class="string">'b'</span>, <span class="string">'c'</span>]])</div><div class="line">list.mergeDeep(list1) <span class="comment">// ['a', ['b', 'c'], 4]</span></div></pre></td></tr></table></figure>
<p><code>mergeDeepWith()</code> 作用嵌套数组每层</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> list = Immutable.fromJS([<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>])</div><div class="line"><span class="keyword">const</span> list1 = Immutable.fromJS([<span class="string">'a'</span>, [<span class="string">'b'</span>, <span class="string">'c'</span>]])</div><div class="line">list.mergeDeepWith(<span class="function">(<span class="params">prev, next, index</span>) =&gt;</span> prev === <span class="number">1</span> ? prev : next, list1) <span class="comment">// [1, ['b', 'c'], 4]</span></div></pre></td></tr></table></figure>
<h2 id="Map-1"><a href="#Map-1" class="headerlink" title="Map"></a>Map</h2><h3 id="创建-Map"><a href="#创建-Map" class="headerlink" title="创建 Map"></a>创建 Map</h3><h4 id="Map-of-作用于函数参数"><a href="#Map-of-作用于函数参数" class="headerlink" title="Map.of() 作用于函数参数"></a><code>Map.of()</code> 作用于函数参数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map = Immutable.Map.of(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>) <span class="comment">// &#123; a: 'b', c: 'd' &#125;</span></div></pre></td></tr></table></figure>
<h4 id="Map-2"><a href="#Map-2" class="headerlink" title="Map()"></a><code>Map()</code></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map1 = Immutable.Map([[<span class="string">'a'</span>, <span class="string">'b'</span>], [<span class="string">'c'</span>, <span class="string">'d'</span>]]) <span class="comment">// &#123; a: 'b', c: 'd' &#125;</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> map2 = Immutable.Map(&#123; <span class="attr">a</span>: <span class="string">'b'</span>, <span class="attr">c</span>: <span class="string">'d'</span> &#125;) <span class="comment">// &#123; a: 'b', c: 'd' &#125;</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> map3 = Immutable.Map(&#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: <span class="string">'c'</span> &#125; &#125;) <span class="comment">// &#123; a: &#123; b: 'c' &#125; &#125;</span></div><div class="line">Immutable.Map.isMap(map3.get(<span class="string">'a'</span>)) <span class="comment">// false</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> map4 = Immutable.fromJS(&#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: <span class="string">'c'</span> &#125; &#125;) <span class="comment">// &#123; a: &#123; b: 'c' &#125; &#125;</span></div><div class="line">Immutable.Map.isMap(map4.get(<span class="string">'a'</span>)) <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> map5 = Immutable.Map(Immutable.List([[<span class="string">'a'</span>, <span class="string">'b'</span>], [<span class="string">'c'</span>, <span class="string">'d'</span>]])) <span class="comment">// &#123; a: 'b', c: 'd' &#125;</span></div></pre></td></tr></table></figure>
<h3 id="get-set-1"><a href="#get-set-1" class="headerlink" title="get() / set()"></a>get() / set()</h3><p><code>get</code> / <code>getIn</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map2 = Immutable.Map(&#123; <span class="attr">a</span>: <span class="string">'b'</span>, <span class="attr">c</span>: <span class="string">'d'</span> &#125;) <span class="comment">// &#123; a: 'b', c: 'd' &#125;</span></div><div class="line">map2.get(<span class="string">'a'</span>) <span class="comment">// 'b'</span></div><div class="line"></div><div class="line"><span class="comment">// get 的第二个参数，可以作为备选项，当没有获取到的时候，返回该值</span></div><div class="line">map2.get(<span class="string">'e'</span>, <span class="number">1</span>) <span class="comment">// 1</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> map4 = Immutable.fromJS(&#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: <span class="string">'c'</span> &#125; &#125;) <span class="comment">// &#123; a: &#123; b: 'c' &#125; &#125;</span></div><div class="line">map4.getIn([<span class="string">'a'</span>, <span class="string">'b'</span>]) <span class="comment">// 'c'</span></div></pre></td></tr></table></figure>
<p><code>set</code> / <code>setIn</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map2 = Immutable.Map(&#123; <span class="attr">a</span>: <span class="string">'b'</span>, <span class="attr">c</span>: <span class="string">'d'</span> &#125;) <span class="comment">// &#123; a: 'b', c: 'd' &#125;</span></div><div class="line">map2.set(<span class="string">'e'</span>, <span class="string">'f'</span>) <span class="comment">// &#123; a: 'b', c: 'd', e: 'f' &#125;</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> map4 = Immutable.fromJS(&#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: <span class="string">'c'</span> &#125; &#125;) <span class="comment">// &#123; a: &#123; b: 'c' &#125; &#125;</span></div><div class="line">map4.setIn([<span class="string">'a'</span>, <span class="string">'b'</span>], <span class="string">'e'</span>) <span class="comment">// &#123; a: &#123; b: 'e' &#125; &#125;</span></div></pre></td></tr></table></figure>
<h4 id="merge-1"><a href="#merge-1" class="headerlink" title="merge"></a>merge</h4><p><code>merge()</code>、<code>mergeWith()</code>、 <code>mergeDeep()</code>、<code>mergeDeepWith()</code> 与 <code>List</code> 类似。</p>
<h2 id="更多"><a href="#更多" class="headerlink" title="更多"></a>更多</h2><p><code>Immutable.js</code> 文档中提供的方法还有很多，可以自己查看。</p>
<p>更复杂的操作，推荐阅读这篇文章 <a href="http://untangled.io/advanced-immutable-js-recipes-how-to-use-immutable-js-in-the-real-world/">Advanced Immutable.js Recipes: How to use Immutable.js in the real world</a>。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://untangled.io/immutable-js-an-introduction-with-examples-written-for-humans">Immutable.js: An Introduction with examples written for humans</a><br><a href="https://facebook.github.io/immutable-js/docs">Immutable.js docs</a></p></div><div class="entry-extra"><div class="entry-tags"><a href="/blog/tags/code/" class="tag">code</a><a href="/blog/tags/Immutable-js/" class="tag">Immutable.js</a></div></div></div></article></div></main><footer><div class="copyright container"><p>© Copyright 2015 - 2018 by <a href="http://github.com/xwartz">xwartz</a>.</p></div></footer><script async src="//cdn.bootcss.com/mathjax/2.7.0-beta.0/MathJax.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-69822347-1",'auto');
ga('set', 'appName',"XWARTZ");
ga('send','pageview');</script><script>(function () { var sid =500303098;cid =500303108;var hm = document.createElement('script');
hm.src = 'http://pingjs.qq.com/h5/stats.js';
hm.setAttribute('name', 'MTAH5'); hm.setAttribute('sid', sid); hm.setAttribute('cid', cid);
var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);
}())</script><script>var _vds = _vds || [];
window._vds = _vds;
(function(){
  ;_vds.push(['setAccountId',"90b580e047dd0007"  ]);
  (function() {
      var vds = document.createElement('script');
      vds.type='text/javascript';
      vds.async = true;
      vds.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'dn-growing.qbox.me/vds.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(vds, s);
  })();
})();</script><script async src="//raw.githack.com/Easyfood/pageAccelerator/master/dist/page-accelerator.min.js"></script><script async src="/blog/script/loading.js"></script><script async src="/blog/script/photo.js"></script></body></html>