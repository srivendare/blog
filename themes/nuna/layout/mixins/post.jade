
//- 生成随机不重复数
- var thumbs = [0,1,2,3,4,5,6,7,8,9].sort(function(){return 0.5 - Math.random()})

mixin postInfo(item)
  .entry-meta
    time.updated(itemprop='datePublished' datetime=full_date(item.date, 'dddd, MMMM Do YYYY, h:mm:ss a'))
      != full_date(item.date, 'll')
    em.post-count
      != wordcount(item.content) + ' words'

mixin postCover(item, flag)
  article.entry-item(itemscope itemtype='http://schema.org/Article')
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> a0b1d6f... A new style
    if flag
        - var defthumb = theme.thumb + 'thumb-' + thumbs.pop() + '.png'
        - var coverUrl = item.thumb ? item.path + item.thumb : url_for(defthumb)
        .post-thumb(itemprop='thumb' style= 'background-image: url(#{coverUrl})')

<<<<<<< HEAD
=======
    - var coverUrl = item.cover ? item.path + item.cover : url_for(theme.postCover)
<<<<<<< HEAD
    .post-cover(itemprop='cover' style= 'background: url(#{coverUrl})')
>>>>>>> c6be0ce... Handle gulp error
=======
    .post-cover(itemprop='cover' style= 'background-image: url(#{coverUrl})')
>>>>>>> a7dccb4... Fix home page && archive page layout
=======
>>>>>>> a0b1d6f... A new style
    a(href= url_for(item.path) itemprop='url')
      h3.post-name(itemprop='name')
        != item.title
      .post-description(itemprop='description')
        != item.excerpt

//- Index Page
mixin home()
<<<<<<< HEAD
<<<<<<< HEAD
    .container.home
=======
    .home
>>>>>>> a7dccb4... Fix home page && archive page layout
=======
    .container.home
>>>>>>> a0b1d6f... A new style
        .entry-header
            h1.entry-title
                != config.title
            p.entry-description
                != config.description
        .entry-list
            - page.posts.each(function (item) {
<<<<<<< HEAD
<<<<<<< HEAD
                +postCover(item, true)
            - })

//- Archive Page
<<<<<<< HEAD
mixin archive()
    .archive
        - var year = 0
        - var change = false

=======
mixin postList()
  .archive-list
    .container
=======
                +postCover(item)
=======
                +postCover(item, true)
>>>>>>> a0b1d6f... A new style
            - })

//- Archive Page
mixin archive()
    .archive
>>>>>>> a7dccb4... Fix home page && archive page layout
        - var year = 0
        - var change = false
<<<<<<< HEAD
>>>>>>> c6be0ce... Handle gulp error
=======

>>>>>>> a0b1d6f... A new style
        - page.posts.each(function (item) {
            - var d = date(item.date, 'MMM, YYYY')
            - change = year !== d
            - year = change ? d : year
            if change
                .entry-header
<<<<<<< HEAD
<<<<<<< HEAD
                    h2.entry-title
=======
                    h1.entry-title
>>>>>>> c6be0ce... Handle gulp error
=======
                    h2.entry-title
>>>>>>> a7dccb4... Fix home page && archive page layout
                        != year
            +postCover(item)
        - })

//- Post Page
mixin post(item)
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> a0b1d6f... A new style
    .post
        article.hentry(itemscope itemtype='http://schema.org/Article')
            if item.cover
                .entry-cover(itemprop='image' style= 'background-image: url(#{item.cover})')

            .container
                .entry-header
                    h1.entry-title
                        != item.title
                    .entry-description
                        != item.excerpt
                    +postInfo(item)
                .entry-content(itemprop='articleBody')
                    != item.more
                .entry-extra
                    .entry-tags
                        if item.tags && item.tags.length
                            - item.tags.each(function(tag) {
                                a.tag(href=url_for(tag.path))
                                    != tag.name
                            - })
<<<<<<< HEAD
=======
  .post
    article.hentry(itemscope itemtype='http://schema.org/Article')
      .entry-header
          h1.entry-title
            != item.title
          .entry-description
            != item.excerpt
          +postInfo(item)
      .entry-content(itemprop='articleBody')
        != item.more
      .entry-extra
        .entry-tags
          if item.tags && item.tags.length
            - item.tags.each(function(tag){
              a.tag(href=url_for(tag.path))
                != tag.name
            - })
>>>>>>> a7dccb4... Fix home page && archive page layout
=======
>>>>>>> a0b1d6f... A new style
