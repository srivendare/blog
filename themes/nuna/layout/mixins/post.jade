mixin postInfo(item)
  .entry-meta
    time.updated(itemprop='datePublished' datetime=full_date(item.date, 'dddd, MMMM Do YYYY, h:mm:ss a'))
      != full_date(item.date, 'll')
    em.post-count
      != wordcount(item.content) + ' words'

mixin postCover(item)
  article.entry-item(itemscope itemtype='http://schema.org/Article')
    - var coverUrl = item.cover ? item.path + item.cover : url_for(theme.postCover)
    .post-cover(itemprop='cover' style= 'background: url(#{coverUrl})')
    a(href= url_for(item.path) itemprop='url')
      h2.post-name(itemprop='name')
        != item.title
      .post-content(itemprop='description')
        != item.excerpt

//- Index Page
mixin posts()
  .entry-header
    .container
      h1.entry-title
        != config.title
  .container
    .entry-list
      - page.posts.each(function (item) {
          +postCover(item)
      - })

//- Archive Page
mixin postList()
  .archive-list
    .container
        - var year = 0
        - var change = false
        - page.posts.each(function (item) {
            - var d = date(item.date, 'MMM, YYYY')
            - change = year !== d
            - year = change ? d : year
            if change
                .entry-header
                    h1.entry-title
                        != year
            +postCover(item)
        - })

//- Post Page
mixin post(item)
  .post
    article.hentry(itemscope itemtype='http://schema.org/Article')
      .entry-header
        .container
          h1.entry-title
            != item.title
          .entry-description
            != item.excerpt
          +postInfo(item)
      .entry-content.container(itemprop='articleBody')
        != item.more
      .entry-extra.container
        .entry-tags
          if item.tags && item.tags.length
            - item.tags.each(function(tag){
              a.tag(href=url_for(tag.path))
                != tag.name
            - })
